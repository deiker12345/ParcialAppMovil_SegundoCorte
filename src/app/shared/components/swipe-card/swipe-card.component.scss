@use '../../../../global.scss' as global;

.swipe-card {
  @include global.card-base;
  width: 100%;
  max-width: 350px;
  height: 600px;
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  cursor: grab;
  user-select: none;
  z-index: 1;
  transition: transform 0.1s ease-out, opacity 0.1s ease-out;

  &.active { z-index: 10; }
  &:active { cursor: grabbing; }

  .card-content {
    width: 100%;
    height: 100%;
    position: relative;
    display: flex;
    flex-direction: column;

    .photo-container {
      flex: 1;
      position: relative;
      overflow: hidden;

      .user-photo {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .like-indicator,
      .dislike-indicator {
        @include global.indicator-base;
        font-size: 1.2rem;
        opacity: 0;
        transform: translateY(-50%) scale(0.8);
        transition: opacity 0.2s ease-out, transform 0.2s ease-out;
      }

      .like-indicator {
        right: 20px;
        background: rgba(76, 217, 100, 0.9);
        color: white;
        border: 3px solid var(--like-color);

        .like-icon { font-size: 2rem; margin-bottom: 8px; }
        .like-text { font-size: 1rem; letter-spacing: 2px; }
      }

      .dislike-indicator {
        left: 20px;
        background: rgba(255, 59, 48, 0.9);
        color: white;
        border: 3px solid var(--dislike-color);

        .dislike-icon { font-size: 2rem; }
        .dislike-text { font-size: 1rem; letter-spacing: 2px; }
      }
    }

    .user-info {
      padding: 20px;
      background: linear-gradient(to top, var(--overlay-bg), transparent);
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      color: white;

      .user-header {
        margin-bottom: 12px;

        .user-name {
          @include global.text-shadow;
          font-size: 1.8rem;
          font-weight: 700;
          margin: 0 0 8px 0;
        }

        .location {
          display: flex;
          align-items: center;
          font-size: 1rem;
          opacity: 0.9;

          .location-icon { margin-right: 6px; font-size: 1.1rem; }
        }
      }

      .passions-container {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;

        .passion-tag {
          background: var(--white-overlay);
          backdrop-filter: blur(10px);
          border: 1px solid var(--white-overlay-strong);
          border-radius: 20px;
          padding: 6px 12px;
          font-size: 0.85rem;
          font-weight: 500;
          color: white;

          &.more-passions {
            background: var(--white-overlay-strong);
            font-weight: 600;
          }
        }
      }
    }
  }

  &.swiping-right .like-indicator {
    opacity: 1;
    transform: translateY(-50%) scale(1);
  }

  &.swiping-left .dislike-indicator {
    opacity: 1;
    transform: translateY(-50%) scale(1);
  }
}

@media (max-width: 768px) {
  .swipe-card {
    max-width: 320px;
    height: 550px;
    
    .card-content .user-info {
      .user-header .user-name { font-size: 1.6rem; }
      .user-header .location { font-size: 0.9rem; }
      .passions-container .passion-tag { font-size: 0.8rem; padding: 5px 10px; }
    }
    
    .card-content .photo-container {
      .like-indicator, .dislike-indicator {
        padding: 12px;
        .like-icon, .dislike-icon { font-size: 1.5rem; }
        .like-text, .dislike-text { font-size: 0.9rem; }
      }
    }
  }
}